```python
import numpy as np
from PIL import  Image
import os, cv2
```


```python
def draw_boundary(img, faceCascade, scaleFactor, minNeighbors, color, text):
    faceCascade = cv2.CascadeClassifier('/Users/apple/opt/anaconda3/lib/python3.7/site-packages/cv2/data/haarcascade_frontalface_default.xml')
    # Converting image to gray-scale
    gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    # detecting features in gray-scale image, returns coordinates, width and height of features
    features = faceCascade.detectMultiScale(gray_img, scaleFactor, minNeighbors)
    coords = []
    # drawing rectangle around the feature and labeling it
    for (x, y, w, h) in features:
        cv2.rectangle(img, (x,y), (x+w, y+h), color, 2)
        cv2.putText(img, text, (x, y-4), cv2.FONT_HERSHEY_SIMPLEX, 0.8, color, 1, cv2.LINE_AA)
        coords = [x, y, w, h]
        return coords
```


```python
#def detect(img, faceCascade, img_id):
    #color = {"blue":(255,0,0), "red":(0,0,255), "green":(0,255,0), "white":(255,255,255)}
    #coords = draw_boundary(img, faceCascade, 1.1, 10, color['blue'], "Neymar")
    # If feature is detected, the draw_boundary method will return the x,y coordinates and width and height of rectangle else the length of coords will be 0
    #if len(coords)==4:
        # Updating region of interest by cropping image
        #roi_img = img[coords[1]:coords[1]+coords[3], coords[0]:coords[0]+coords[2]]
        # Assign unique id to each user
        #img_id = 1
        
    #return roi_img
```


```python
def loadimages(path):
    return[os.path.join(path,f) for f in os.listdir(path) if f.endswith(".jpg") or f.endswith(".jpeg") or f.endswith('.png')]
filename = (loadimages('/Users/apple/Desktop/Test/name3')) 
images = []
for file in filename:
    images.append(cv2.imread(file,cv2.IMREAD_UNCHANGED))
print(images)
user_id = 1
num = 0
for image in images:
    color = {"blue":(255,0,0), "red":(0,0,255), "green":(0,255,0), "white":(255,255,255)}
    coords = draw_boundary(image, faceCascade, 1.1, 10, color['blue'], "Neymar")
    # If feature is detected, the draw_boundary method will return the x,y coordinates and width and height of rectangle else the length of coords will be 0
    if len(coords)==4:
        # Updating region of interest by cropping image
        roi_img = image[coords[1]:coords[1]+coords[3], coords[0]:coords[0]+coords[2]]
        # Assign unique id to each user
        img_id = 1
    #detect(image,faceCascade,num)
    cv2.imwrite("/Users/apple/Desktop/Test/dataset/image"+"."+str(user_id) + "." + str(num)+".jpeg", roi_img)
    num +=1
                    
```

    [array([[[ 83,  80,  72],
            [ 55,  52,  44],
            [ 54,  51,  43],
            ...,
            [ 54,  51,  37],
            [ 54,  51,  37],
            [ 55,  52,  38]],
    
           [[ 81,  78,  70],
            [ 53,  50,  42],
            [ 52,  49,  41],
            ...,
            [ 52,  49,  35],
            [ 52,  49,  35],
            [ 53,  50,  36]],
    
           [[ 77,  74,  66],
            [ 50,  47,  39],
            [ 50,  47,  39],
            ...,
            [ 49,  46,  32],
            [ 49,  46,  32],
            [ 49,  46,  32]],
    
           ...,
    
           [[124, 123, 133],
            [119, 118, 128],
            [113, 112, 121],
            ...,
            [ 78,  69,  60],
            [ 79,  70,  61],
            [ 79,  70,  61]],
    
           [[125, 124, 134],
            [120, 119, 129],
            [114, 113, 122],
            ...,
            [ 78,  69,  60],
            [ 79,  70,  61],
            [ 79,  70,  61]],
    
           [[124, 125, 135],
            [119, 120, 130],
            [113, 114, 124],
            ...,
            [ 78,  69,  60],
            [ 79,  70,  61],
            [ 79,  70,  61]]], dtype=uint8), array([[[ 33,  52,  89],
            [ 33,  52,  89],
            [ 34,  53,  90],
            ...,
            [149, 127, 121],
            [150, 128, 122],
            [151, 129, 123]],
    
           [[ 33,  52,  89],
            [ 34,  53,  90],
            [ 35,  54,  91],
            ...,
            [150, 128, 122],
            [151, 129, 123],
            [152, 130, 124]],
    
           [[ 34,  53,  90],
            [ 35,  54,  91],
            [ 36,  55,  92],
            ...,
            [152, 130, 124],
            [153, 131, 125],
            [154, 132, 126]],
    
           ...,
    
           [[  3, 113, 137],
            [  8, 118, 142],
            [  0, 107, 131],
            ...,
            [ 14,  41,  62],
            [  7,  33,  50],
            [  6,  31,  47]],
    
           [[  5, 113, 137],
            [ 10, 118, 142],
            [  3, 106, 131],
            ...,
            [ 15,  41,  58],
            [  8,  31,  46],
            [  7,  29,  40]],
    
           [[  5, 113, 137],
            [ 10, 118, 142],
            [  3, 106, 131],
            ...,
            [ 14,  40,  57],
            [  5,  28,  43],
            [  5,  26,  34]]], dtype=uint8), array([[[ 19,  50,  75],
            [ 22,  53,  78],
            [ 29,  57,  81],
            ...,
            [ 18,  32,  50],
            [  9,  23,  41],
            [  5,  19,  37]],
    
           [[ 21,  52,  77],
            [ 26,  57,  80],
            [ 32,  60,  84],
            ...,
            [ 19,  34,  50],
            [ 10,  24,  42],
            [  5,  20,  36]],
    
           [[ 24,  55,  78],
            [ 29,  60,  83],
            [ 36,  64,  88],
            ...,
            [ 21,  34,  48],
            [ 12,  25,  41],
            [  8,  21,  35]],
    
           ...,
    
           [[207, 195, 171],
            [214, 204, 180],
            [226, 215, 193],
            ...,
            [129, 142, 168],
            [128, 141, 167],
            [127, 140, 166]],
    
           [[226, 210, 193],
            [232, 218, 200],
            [241, 225, 212],
            ...,
            [117, 134, 155],
            [116, 132, 155],
            [114, 131, 152]],
    
           [[246, 231, 205],
            [250, 237, 211],
            [255, 242, 220],
            ...,
            [108, 129, 144],
            [108, 128, 145],
            [107, 128, 143]]], dtype=uint8), array([[[ 0,  3, 11],
            [ 0,  3, 11],
            [ 0,  3, 11],
            ...,
            [ 3,  3,  3],
            [ 3,  3,  3],
            [ 3,  3,  3]],
    
           [[ 0,  3, 11],
            [ 0,  3, 11],
            [ 0,  3, 11],
            ...,
            [ 3,  3,  3],
            [ 3,  3,  3],
            [ 3,  3,  3]],
    
           [[ 0,  3, 11],
            [ 0,  3, 11],
            [ 0,  3, 11],
            ...,
            [ 3,  3,  3],
            [ 3,  3,  3],
            [ 3,  3,  3]],
    
           ...,
    
           [[ 5,  3,  2],
            [ 5,  3,  2],
            [ 5,  3,  2],
            ...,
            [ 5,  3,  3],
            [ 5,  3,  3],
            [ 5,  3,  3]],
    
           [[ 5,  3,  2],
            [ 5,  3,  2],
            [ 5,  3,  2],
            ...,
            [ 5,  3,  3],
            [ 5,  3,  3],
            [ 5,  3,  3]],
    
           [[ 5,  3,  2],
            [ 5,  3,  2],
            [ 5,  3,  2],
            ...,
            [ 5,  3,  3],
            [ 5,  3,  3],
            [ 5,  3,  3]]], dtype=uint8), array([[[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]],
    
           [[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]],
    
           [[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]],
    
           ...,
    
           [[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]],
    
           [[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]],
    
           [[255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            ...,
            [255, 255, 255,   0],
            [255, 255, 255,   0],
            [255, 255, 255,   0]]], dtype=uint8), array([[[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0]],
    
           [[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0]],
    
           [[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0]],
    
           ...,
    
           [[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [ 61,  35,  27,  49],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0]],
    
           [[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [ 88,  52,  40, 245],
            [ 88,  52,  40, 196],
            [ 88,  52,  40,  98]],
    
           [[  0,   0,   0,   0],
            [  0,   0,   0,   0],
            [  0,   0,   0,   0],
            ...,
            [ 88,  52,  40, 245],
            [ 88,  52,  40, 255],
            [ 88,  52,  40, 245]]], dtype=uint8), array([[[  2,   4,   4],
            [  2,   4,   4],
            [  3,   5,   5],
            ...,
            [  9,   5,   4],
            [  9,   5,   4],
            [  9,   5,   4]],
    
           [[  2,   4,   4],
            [  2,   4,   4],
            [  3,   5,   5],
            ...,
            [  9,   5,   4],
            [  9,   5,   4],
            [  9,   5,   4]],
    
           [[  2,   4,   4],
            [  2,   4,   4],
            [  3,   5,   5],
            ...,
            [  7,   5,   4],
            [  7,   5,   4],
            [  7,   5,   4]],
    
           ...,
    
           [[ 31,  29, 105],
            [ 32,  31, 103],
            [ 39,  36, 105],
            ...,
            [ 28,  40,  50],
            [ 30,  40,  50],
            [ 27,  40,  48]],
    
           [[ 34,  32, 114],
            [ 38,  35, 114],
            [ 46,  41, 116],
            ...,
            [ 30,  44,  56],
            [ 31,  43,  55],
            [ 28,  43,  52]],
    
           [[ 40,  37, 122],
            [ 44,  40, 122],
            [ 51,  47, 123],
            ...,
            [ 31,  44,  58],
            [ 31,  45,  57],
            [ 30,  44,  56]]], dtype=uint8), array([[[ 43,  56, 232],
            [ 61,  64, 232],
            [ 70,  49, 205],
            ...,
            [233, 241, 255],
            [225, 237, 243],
            [245, 253, 255]],
    
           [[ 65,  72, 213],
            [ 61,  60, 200],
            [ 64,  43, 182],
            ...,
            [216, 219, 255],
            [232, 241, 255],
            [242, 247, 255]],
    
           [[151, 147, 219],
            [115, 104, 190],
            [100,  75, 187],
            ...,
            [ 98,  95, 198],
            [211, 212, 255],
            [238, 237, 255]],
    
           ...,
    
           [[111,  89, 161],
            [ 42,  19,  71],
            [ 60,  34,  47],
            ...,
            [ 77,  44,  28],
            [ 73,  39,  26],
            [ 67,  34,  31]],
    
           [[112,  90, 162],
            [ 43,  20,  72],
            [ 61,  35,  48],
            ...,
            [ 76,  46,  29],
            [ 72,  40,  29],
            [ 69,  38,  37]],
    
           [[111,  87, 157],
            [ 41,  16,  66],
            [ 62,  35,  45],
            ...,
            [ 88,  61,  47],
            [ 79,  50,  41],
            [ 68,  40,  40]]], dtype=uint8), array([[[57, 60, 65],
            [58, 61, 66],
            [59, 62, 67],
            ...,
            [35, 35, 35],
            [35, 35, 35],
            [35, 35, 35]],
    
           [[57, 60, 65],
            [57, 60, 65],
            [59, 62, 67],
            ...,
            [35, 35, 35],
            [35, 35, 35],
            [35, 35, 35]],
    
           [[56, 59, 64],
            [57, 60, 65],
            [58, 61, 66],
            ...,
            [35, 35, 35],
            [35, 35, 35],
            [35, 35, 35]],
    
           ...,
    
           [[34, 34, 34],
            [34, 34, 34],
            [35, 35, 35],
            ...,
            [50, 49, 59],
            [44, 43, 52],
            [41, 40, 49]],
    
           [[35, 35, 35],
            [35, 35, 35],
            [36, 36, 36],
            ...,
            [47, 47, 59],
            [42, 43, 53],
            [40, 41, 51]],
    
           [[35, 35, 35],
            [35, 35, 35],
            [36, 36, 36],
            ...,
            [46, 47, 61],
            [42, 42, 54],
            [40, 41, 51]]], dtype=uint8), array([[[ 55,  65,  72],
            [ 55,  65,  72],
            [ 55,  65,  72],
            ...,
            [ 25,  82, 103],
            [ 26,  83, 104],
            [ 26,  83, 104]],
    
           [[ 55,  65,  72],
            [ 55,  65,  72],
            [ 55,  65,  72],
            ...,
            [ 25,  82, 103],
            [ 26,  83, 104],
            [ 26,  83, 104]],
    
           [[ 55,  65,  72],
            [ 55,  65,  72],
            [ 55,  65,  72],
            ...,
            [ 27,  82, 103],
            [ 28,  83, 104],
            [ 28,  83, 104]],
    
           ...,
    
           [[  8, 132, 232],
            [  8, 132, 232],
            [  8, 132, 232],
            ...,
            [ 41,  50,  77],
            [ 42,  51,  78],
            [ 42,  51,  78]],
    
           [[  8, 132, 232],
            [  8, 132, 232],
            [  8, 132, 232],
            ...,
            [ 41,  50,  77],
            [ 41,  50,  77],
            [ 42,  51,  78]],
    
           [[  8, 132, 232],
            [  8, 132, 232],
            [  8, 132, 232],
            ...,
            [ 40,  49,  76],
            [ 41,  50,  77],
            [ 41,  50,  77]]], dtype=uint8), array([[[10, 10, 10],
            [11, 11, 11],
            [11, 11, 11],
            ...,
            [14, 16, 16],
            [12, 17, 16],
            [12, 17, 16]],
    
           [[10, 10, 10],
            [11, 11, 11],
            [11, 11, 11],
            ...,
            [13, 15, 15],
            [11, 16, 15],
            [11, 16, 15]],
    
           [[10, 10, 10],
            [11, 11, 11],
            [11, 11, 11],
            ...,
            [13, 15, 15],
            [13, 15, 15],
            [13, 15, 15]],
    
           ...,
    
           [[22, 27, 26],
            [22, 27, 26],
            [22, 27, 26],
            ...,
            [24, 28, 29],
            [24, 28, 29],
            [23, 27, 28]],
    
           [[22, 27, 26],
            [23, 28, 27],
            [23, 28, 27],
            ...,
            [22, 26, 27],
            [22, 26, 27],
            [22, 26, 27]],
    
           [[23, 28, 27],
            [23, 28, 27],
            [23, 28, 27],
            ...,
            [21, 25, 26],
            [21, 25, 26],
            [20, 24, 25]]], dtype=uint8), array([[[27, 28, 26],
            [27, 28, 26],
            [27, 28, 26],
            ...,
            [37, 47, 77],
            [36, 47, 77],
            [34, 45, 77]],
    
           [[27, 28, 26],
            [27, 28, 26],
            [27, 28, 26],
            ...,
            [36, 46, 76],
            [35, 46, 76],
            [34, 45, 77]],
    
           [[26, 27, 25],
            [27, 28, 26],
            [27, 28, 26],
            ...,
            [35, 46, 74],
            [34, 45, 75],
            [33, 44, 76]],
    
           ...,
    
           [[34, 30, 35],
            [32, 28, 33],
            [31, 27, 33],
            ...,
            [26, 23, 68],
            [26, 23, 68],
            [26, 24, 66]],
    
           [[33, 30, 32],
            [30, 29, 33],
            [31, 27, 32],
            ...,
            [27, 24, 70],
            [26, 23, 69],
            [25, 24, 68]],
    
           [[28, 28, 28],
            [27, 29, 29],
            [29, 28, 30],
            ...,
            [27, 25, 71],
            [28, 26, 72],
            [29, 26, 72]]], dtype=uint8)]



```python

```


```python

```
